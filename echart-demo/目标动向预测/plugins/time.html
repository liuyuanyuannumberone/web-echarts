<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>jQuery</title>
<link href="plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="css/layout.css">
</head>
<body>
<div class="container">
	<div class="row">
		<div class="col-md-12 about">
			<div class="about-body">
				<div class="about-content process-content">
					<div class="process-timeline draggable ui-widget-content">
						<div id="draggable">
							<div class="process-body">
								<div class="process-row">
									<div class="process-time">
										<div class="time-con">
											<span class="bgcolor red"></span>
											<span class="year">2020</span>
											<span class="pic red"><i class="fa fa-map-marker"></i></span>
										</div>
									</div>
									<div class="process-noyear">
										10月1日
									</div>
									<div class="process-content">
										<h2>出行1</h2>
										<p>
									出发地：南京市<br>
									目的地：上海<br>
									出发时间：2020年10月1日<br>
									到达时间：2020年10月2日<br>
											平台：携程
										</p>
									</div>
								</div>
								<div class="process-row ">
									<div class="process-time">
										<div class="time-con">
											<span class="bgcolor blue"></span>
											<span class="year">2020</span>
											<span class="pic blue"><i class="fa fa-map-marker"></i></span>
										</div>
									</div>
									<div class="process-noyear">
										11月10日
									</div>
									<div class="process-content">
										<h2> 筹备组成立 </h2>
										<p>
											筹备备组成立相关信息筹备组成立相关信息筹备组成立相关信息筹备组成立相关信息筹备组成立相关信息筹备组成立相关信息筹备组成立相关信息
										</p>
									</div>
								</div>
								<div class="process-row ">
									<div class="process-time">
										<div class="time-con">
											<span class="bgcolor red"></span>
											<span class="year">2020</span>
											<span class="pic red"><i class="fa fa-map-marker"></i></span>
										</div>
									</div>
									<div class="process-noyear">
										12月3日
									</div>
									<div class="process-content">
										<h2> 筹备组成立 </h2>
										<p>
											筹备组成立相关信息筹备相关信息筹备组成立相关信息筹备组成立相关信息筹备组成立相关信息筹备组成立相关信息筹备组成立相关信息筹备组成立相关信息
										</p>
									</div>
								</div>
								<div class="process-row ">
									<div class="process-time">
										<div class="time-con">
											<span class="bgcolor orange"></span>
											<span class="year">2021</span>
											<span class="pic orange"><i class="fa fa-map-marker"></i></span>
										</div>
									</div>
									<div class="process-noyear">
										1月1日
									</div>
									<div class="process-content">
										<h2> 筹备组成立 </h2>
										<p>
											筹备组成立相关信息筹备组成立相关信息筹备组成立相关信息筹备组成立相关信息筹备组成立相关信息筹备组成立相关信息筹备组成立相关信息筹备组成立相关信息筹备组成立相关信息筹备组成立相关信息筹备组成立相关信息
										</p>
									</div>
								</div>
								<div class="process-row ">
									<div class="process-time">
										<div class="time-con">
											<span class="bgcolor orange"></span>
											<span class="year">2021</span>
											<span class="pic orange"><i class="fa fa-map-marker"></i></span>
										</div>
									</div>
									<div class="process-noyear">
										2月3日
									</div>
									<div class="process-content">
										<h2> 筹备组成立 </h2>
										<p>
											筹备组成立相关信息筹备组成立相关信息筹备组成立相关信息筹备组成立相关信息筹备组成立相关信息筹备组成立相关信息筹备组成立相关信息筹备组成立相关信息筹备组成立相关信息筹备组成立相关信息筹备组成立相关信息
										</p>
									</div>
								</div>
								<div class="process-row ">
									<div class="process-time">
										<div class="time-con">
											<span class="bgcolor orange"></span>
											<span class="year">2021</span>
											<span class="pic orange"><i class="fa fa-map-marker"></i></span>
										</div>
									</div>
									<div class="process-noyear">
										5月10日
									</div>
									<div class="process-content">
										<h2> 筹备组成立 </h2>
										<p>
											筹备组成立相关信息筹备组成立相关信息筹备组成立相关信息筹备组成立相关信息筹备组成立相关信息筹备组成立相关信息筹备组成立相关信息筹备组成立相关信息筹备组成立相关信息筹备组成立相关信息筹备组成立相关信息
										</p>
									</div>
								</div>
								<div class="process-row ">
									<div class="process-time">
										<div class="time-con">
											<span class="bgcolor orange"></span>
											<span class="year">2012</span>
											<span class="pic orange"><i class="fa fa-map-marker"></i></span>
										</div>
									</div>
									<div class="process-noyear">
										第一年
									</div>
									<div class="process-content">
										<h2> 筹备组成立 </h2>
										<p>
											筹备组成立相关信息筹备组成立相关信息筹备组成立相关信息筹备组成立相关信息筹备组成立相关信息筹备组成立相关信息筹备组成立相关信息筹备组成立相关信息筹备组成立相关信息筹备组成立相关信息筹备组成立相关信息
										</p>
									</div>
								</div>
								<div class="process-row ">
									<div class="process-time">
										<div class="time-con">
											<span class="bgcolor orange"></span>
											<span class="year">2012</span>
											<span class="pic orange"><i class="fa fa-map-marker"></i></span>
										</div>
									</div>
									<div class="process-noyear">
										第一年
									</div>
									<div class="process-content">
										<h2> 筹备组成立 </h2>
										<p>
											筹备组成立相关信息筹备组成立相关信息筹备组成立相关信息筹备组成立相关信息筹备组成立相关信息筹备组成立相关信息筹备组成立相关信息筹备组成立相关信息筹备组成立相关信息筹备组成立相关信息筹备组成立相关信息
										</p>
									</div>
								</div>
								<div class="process-row ">
									<div class="process-time">
										<div class="time-con">
											<span class="bgcolor orange"></span>
											<span class="year">2012</span>
											<span class="pic orange"><i class="fa fa-map-marker"></i></span>
										</div>
									</div>
									<div class="process-noyear">
										第一年
									</div>
									<div class="process-content">
										<h2> 筹备组成立 </h2>
										<p>
											筹备组成立相关信息筹备组成立相关信息筹备组成立相关信息筹备组成立相关信息筹备组成立相关信息筹备组成立相关信息筹备组成立相关信息筹备组成立相关信息筹备组成立相关信息筹备组成立相关信息筹备组成立相关信息
										</p>
									</div>
								</div>
							</div>
						</div>
					</div>
					<!-- 鼠标点击 滚动 -->
					<div class="scrollMouse text-center">
						<span id="processLeft" style="display:inline-block"> < </span>
						<i class="icon icon-mouse"></i>
						<span id="processRight"  style="display:inline-block"> > </span>
						<br>
						左右箭头  鼠标左键 键盘左右方向键
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
  <script src="plugins/html5shiv.min.js"></script>
  <script src="plugins/respond.min.js"></script>
  <script src="plugins/jquery.min.js"></script>
<script src="plugins/bootstrap/js/bootstrap.min.js"></script>
<script src="plugins/jquery-ui.min.js"></script>

<script>
	$(function(){
		var aboutWidth = $(".about").width();
		$(".process-timeline").width(aboutWidth);
		var lastRightSpeed = 40; //控制拖动到最右边点是否对准时间刻度线上
		var processtimelineW = $(".process-timeline").width();
		var processrowLength = $(".process-body").find('.process-row').length;
		var processbodyNumber = processrowLength*200;
		$(".process-body").css({"width":processbodyNumber});

		if(processrowLength < 5)
		{
			$("#draggable").draggable('disable');
			return;
		}
		$("#processLeft").click(function(){
			var processContentW = $(".process-content").width();
			var processBodyW = $(".process-body").width();
			var processBodyML = parseInt($(".ui-draggable").css("left"));
			if ( (Math.abs(processBodyML)+processtimelineW) >= processBodyW ) {
				return;
			}
			$(".ui-draggable").css({"left":processBodyML-50});
		});
		$("#processRight").click(function(){
			var processBodyML = parseInt($(".ui-draggable").css("left"));
			if (processBodyML == 0) {
				return;
			}
			$(".ui-draggable").css({"left":processBodyML+50});
		});

		$(document).keydown(function(event){
			if (event.keyCode == 39) {
			   $("#processLeft").click();
			}
			if (event.keyCode == 37) {
			   $("#processRight").click();
			}
		});

		$("#draggable").draggable({
			cursor: "move",
			axis: 'x',
			grid: [50, 20],
			stop: function(event, ui){
				var FleftNumber = parseInt($("#draggable").css("left"));
				if (FleftNumber > 0) {
					$("#draggable").animate({"left": 0}, 500);
					return;
				}
				var leftNumber = Math.abs(FleftNumber);
				leftNumber = leftNumber + processtimelineW;
				if (leftNumber > processbodyNumber)
				{
					leftNumber = processbodyNumber;
					$("#draggable").animate({"left": -(leftNumber-processtimelineW + lastRightSpeed)}, 500);
				}
			}
		});
	})
</script>
</body>
</html>
